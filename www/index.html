<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">

  <link rel="stylesheet" href="./styles/style.css">
  <title></title>
</head>

<body>
  <div id="app" class="layout--header-content">
    
    <aside class="app__header">
      <menu class="menu menu--horizontal">
        
        <label>
          Pegar Imagen <input id="inputOpen2" type="text" class="input--text" autocomplete="on" />
        </label>
        
        <label id="btnOpen" class="button button--secondary" role="button">
          Subir imagen
          <input id="inputOpen" name="inputOpen" type="file" accepts="image/png,image/jpg,image/jpeg" multiple class="hidden" />
        </label>
        
        <button id="btnExport" class="button button--secondary button--right">
          Exportar CSV
        </button>
        
      </menu>
    </aside>
    
    <main x-data class="main layout--header-content">
      <table class="table">
        
        <thead class="table__header">
          <tr>
            <template x-for="header in $store.equipo.headers">
              <th x-text="header" class="cell cell--header"></th>
            </template>
          </tr>
        </thead>
        
        <tbody class="table__body">
          <template x-for="(pieza,j) in $store.equipo.equipo">
            <tr>
              <td class="cell cell--image"><img :src="pieza[0]" width="50" @click="imageModal" :data-index="j" /></td>
              <template x-for="(col,i) in pieza">
                <template x-if="i>0">
                  <td class="cell cell--" x-text="pieza[i]" @input="pieza[i]=$event.target.innerText" contenteditable></td>
                </template>
              </template>
            </tr>
          </template>
        </tbody>
        
      </table>
    </main>
    
  </div>

  <dialog id="imageDialog" x-data>
    <form method="dialog">
      <img :src="$store.equipo.p && $store.equipo.equipo[$store.equipo.p][0]" height="200">
      <table id="table">
        <tbody>
          <template x-for="(col,i) in $store.equipo.equipo[$store.equipo.p]">
            <template x-if="i>0">
              <tr>
                <th x-text="$store.equipo.headers[i]"></th>
                <td x-text="col" @input="$store.equipo.equipo[$store.equipo.p][i]=$event.target.innerText" contenteditable></td>
              </tr>
            </template>
          </template>
        </tbody>
      </table>
      <button autofocus>Close</button>
    </form>
  </dialog>

  <script src="./src/main.js" type="module" defer></script>
</body>

</html>